# 实验四. 定义DDDEF实验

**实验目的：** 在 TZONE 和 DZONE 中定义 DDDEF Entry

**实验结果：** 实验后，学生应该掌握：

- 如何定义DDDEF

**实验指导：** 使用GIMSMP实用程序中的ADD DDDEF命令



## 实验步骤

**<font size=5>步骤 1</font>** 在 TARGET ZONE 中定义 DDDEF。

包包括下面这些库的信息：

| 分配库（Distribution Library）   | 目标库（Target Library）        |
| -------------------------------- | ------------------------------- |
| yourId.TDMF.SMP.HGTD530.AGTDELIB | yourId.TDMF.SMP.HGTD530.GTDELIB |
| yourId.TDMF.SMP.HGTD530.AGTDMLIB | yourId.TDMF.SMP.HGTD530.GTDMLIB |
| yourId.TDMF.SMP.HGTD530.AGTDPLIB | yourId.TDMF.SMP.HGTD530.GTDPLIB |
| yourId.TDMF.SMP.HGTD530.AGTDTLIB | yourId.TDMF.SMP.HGTD530.GTDTLIB |
| yourId.TDMF.SMP.HGTD530.AGTDLLIB | yourId.TDMF.SMP.HGTD530.GTDLLIB |

示范JCL作业内容如下：

```
//DDDEF JOB NOTIFY=&SYSUID
//SMPE EXEC PGM=GIMSMP,REGION=0M
//SMPCSI DD DSN=yourId.TDMF.SMP.CSI,
// 			DISP=OLD
//SMPLIST DD SYSOUT=*
//SYSPRINT DD SYSOUT=*
//SMPCNTL DD *
  SET BDY(TZONE) .
  UCLIN .
	ADD DDDEF (GTDELIB)
		DATASET(yourId.TDMF.SMP.HGTD530.GTDELIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (GTDMLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.GTDMLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (GTDTLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.GTDTLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (GTDPLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.GTDPLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (GTDLLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.GTDLLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDELIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDELIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDMLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDMLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDTLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDTLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDPLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDPLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDLLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDLLIB)
		WAITFORDSN
		SHR .
  ENDUCL.
```

**<font size=5>步骤 2</font>**  在DISTRIBUTION ZONE中定义DDDEF。

包括下面这些库的信息。

                        | 分配库（Distribution Library）   |
                        | -------------------------------- |
                        | yourId.TDMF.SMP.HGTD530.AGTDELIB |
                        | yourId.TDMF.SMP.HGTD530.AGTDMLIB |
                        | yourId.TDMF.SMP.HGTD530.AGTDPLIB |
                        | yourId.TDMF.SMP.HGTD530.AGTDTLIB |
                        | yourId.TDMF.SMP.HGTD530.AGTDLLIB |

示范JCL作业如下：

```
//DDDEF JOB NOTIFY=&SYSUID
//SMPE EXEC PGM=GIMSMP,REGION=0M
//SMPCSI DD DSN=yourId.TDMF.SMP.CSI,
// 			DISP=OLD
//SMPLIST DD SYSOUT=*
//SYSPRINT DD SYSOUT=*
//SMPCNTL DD *
  SET BDY(DZONE) .
  UCLIN .
	ADD DDDEF (AGTDELIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDELIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDMLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDMLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDTLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDTLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDPLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDPLIB)
		WAITFORDSN
		SHR .
	ADD DDDEF (AGTDLLIB)
		DATASET(yourId.TDMF.SMP.HGTD530.AGTDLLIB)
		WAITFORDSN
		SHR .
  ENDUCL.
```

**<font size=5>步骤 3</font>** 作业成功后，使用LIST命令查看TARGET ZONE 和 DISTRIBUTION ZONE。重点观察 SMPLIST 中的 TARGET ZONE 和 DISTRIBUTION ZONE 中具体增加了哪些内容。

```
SET BDY(TZONE).
LIST.
SET BDY(DZONE).
LIST.
```

```
				Display Filter View Print Options Search Help
-------------------------------------------------------------------------------
SDSF JOB DATA SET DISPLAY - JOB LISTZONE (JOB07710) 	DATA SET DISPLAYED
PREFIX=* DEST=(ALL) OWNER=ADM010 SYSNAME=
NP DDNAME StepName ProcStep  DSID Owner C Dest 		Rec-Cnt Page
   JESMSGLG JES2 				2 ADM010 W LOCAL 		18
   JESJCL JES2 					3 ADM010 W LOCAL 		8
   JESYSMSG JES2 				4 ADM010 W LOCAL 		38
   SMPLIST SMPE 			  102 ADM010 W LOCAL 		295
   SMPOUT SMPE 			      104 ADM010 W LOCAL 		11
   SMPRPT SMPE 				  105 ADM010 W LOCAL 		16
   SMPOUT SMPE 				  106 ADM010 W LOCAL 		12
   SMPRPT SMPE 				  107 ADM010 W LOCAL 		16
```

