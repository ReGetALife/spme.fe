## 实验 4: 定义 DDDEF 实验

**实验目的**：在 TZONE 和 DZONE 中定义 DDDEF Entry

**实验结果**：实验后，学生应该掌握

- 如何定义 DDDEF

**实验指导**：使用 GIMSMP 实用程序中的 ADD DDDEF 命令。

**实验步骤：**

## 步骤**1** 

在 TARGET ZONE 中定义 DDDEF

包括下面这些库的信息。

![image-20200615165343972](/img/smp/lab4/1.png)



示范 JCL 作业内容如下：

```
//DDDEF	JOB NOTIFY=&SYSUID
//SMPE EXEC PGM=GIMSMP,REGION=0M
//SMPCSI DD DSN=yourId.TDMF.SMP.CSI,
//          DISP=OLD
//SMPLIST DD SYSOUT=*
//SYSPRINT DD SYSOUT=*
//SMPCNTL DD *
  SET BDY(DZONE).
  UCLIN.
  ADD DDDEF(GTDELIB)
      DATASET(yourId.TDMF.SMP.HGTD530.GTDELIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(GTDMLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.GTDMLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(GTDTLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.GTDTLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(GTDPLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.GTDPLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(GTDLLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.GTDLLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDELIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDELIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDMLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDMLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDTLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDTLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDPLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDPLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDLLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDLLIB)
      WAITFORDSN
      SHR.
 ENDUCL.
```



## 步骤2

在 DISTRIBUTION ZONE 中定义 DDDEF。

包括下面这些库的信息：

![image-20200615165729668](/img/smp/lab4/2.png)

示范 JCL 作业内容如下：

```
//DDDEF	JOB NOTIFY=&SYSUID
//SMPE EXEC PGM=GIMSMP,REGION=0M
//SMPCSI DD DSN=yourId.TDMF.SMP.CSI,
//          DISP=OLD
//SMPLIST DD SYSOUT=*
//SYSPRINT DD SYSOUT=*
//SMPCNTL DD *
  SET BDY(DZONE).
  UCLIN.
  ADD DDDEF(AGTDELIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDELIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDMLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDMLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDTLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDTLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDPLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDPLIB)
      WAITFORDSN
      SHR.
  ADD DDDEF(AGTDLLIB)
      DATASET(yourId.TDMF.SMP.HGTD530.AGTDLLIB)
      WAITFORDSN
      SHR.
 ENDUCL.
```

## 步骤3

作业成功后，使用 LIST 命令查看 TARGET ZONE 和 DISTRIBUTION ZONE。重点观察 SMPLIST 中的 TARGET ZONE 和 DISTRIBUTION ZONE 中具体增加了哪些内容。

```
SET BDY(TZONE).
LIST.
SET BDY(DZONE).
LIST.
```



![image-20200615170935916](/img/smp/lab4/3.png)